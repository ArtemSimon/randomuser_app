2025-05-24 17:54:45 - INFO - uvicorn - Database engine created successfully
2025-05-24 17:54:45 - INFO - uvicorn.error - Started server process [7]
2025-05-24 17:54:45 - INFO - uvicorn.error - Waiting for application startup.
2025-05-24 17:54:45 - INFO - uvicorn - Starting app
2025-05-24 17:54:47 - INFO - uvicorn.error - Application startup complete.
2025-05-24 17:54:47 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-05-24 18:13:17 - INFO - uvicorn - Database engine created successfully
2025-05-24 18:13:17 - INFO - uvicorn.error - Started server process [7]
2025-05-24 18:13:17 - INFO - uvicorn.error - Waiting for application startup.
2025-05-24 18:13:17 - INFO - uvicorn - Starting app
2025-05-24 18:13:17 - ERROR - uvicorn.error - Traceback (most recent call last):
  File "/app/app/api/crud.py", line 22, in async_load_user
    logger.info(f"Starting user loading process. Total: {total}, batch size: {batch_size}")
AttributeError: module 'fastapi.logger' has no attribute 'info'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/app/api/crud.py", line 68, in async_load_user
    logger.critical(f"Critical error in user loading process: {str(global_error)}")
AttributeError: module 'fastapi.logger' has no attribute 'critical'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/app/api/crud.py", line 80, in async_load_user
    logger.debug("Database session closed")
AttributeError: module 'fastapi.logger' has no attribute 'debug'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/app/app/main.py", line 21, in lifespan
    await start_app.async_load_user(1000)
  File "/app/app/api/crud.py", line 82, in async_load_user
    logger.error(f"Error closing session: {str(close_error)}")
AttributeError: module 'fastapi.logger' has no attribute 'error'

2025-05-24 18:13:17 - ERROR - uvicorn.error - Application startup failed. Exiting.
2025-05-24 18:13:53 - INFO - uvicorn - Database engine created successfully
2025-05-24 18:13:53 - INFO - uvicorn.error - Started server process [7]
2025-05-24 18:13:53 - INFO - uvicorn.error - Waiting for application startup.
2025-05-24 18:13:53 - INFO - uvicorn - Starting app
2025-05-24 18:13:53 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-05-24 18:13:54 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-05-24 18:13:55 - INFO - uvicorn - User loading completed. Total added: 1000
2025-05-24 18:13:55 - INFO - uvicorn - Loading 1000 users completed
2025-05-24 18:13:55 - INFO - uvicorn.error - Application startup complete.
2025-05-24 18:13:55 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-05-24 18:14:59 - INFO - uvicorn - Starting user loading process. Total: 123, batch size: 5000
2025-05-24 18:15:00 - INFO - uvicorn - Successfully fetched page 1: 123 users
2025-05-24 18:15:00 - INFO - uvicorn - User loading completed. Total added: 123
2025-05-24 18:15:45 - INFO - uvicorn - Starting user loading process. Total: 10000, batch size: 5000
2025-05-24 18:15:49 - INFO - uvicorn - Successfully fetched page 1: 5000 users
2025-05-24 18:15:59 - INFO - uvicorn - Successfully fetched page 2: 5000 users
2025-05-24 18:16:06 - INFO - uvicorn - User loading completed. Total added: 10000
2025-05-24 18:42:38 - INFO - uvicorn - Database engine created successfully
2025-05-24 18:42:38 - INFO - uvicorn.error - Started server process [7]
2025-05-24 18:42:38 - INFO - uvicorn.error - Waiting for application startup.
2025-05-24 18:42:38 - INFO - uvicorn - Starting app
2025-05-24 18:42:38 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-05-24 18:42:40 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-05-24 18:42:40 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-05-24 18:42:42 - INFO - uvicorn - User loading completed. Total added: 1000
2025-05-24 18:42:42 - INFO - uvicorn - Loading 1000 users completed
2025-05-24 18:42:42 - INFO - uvicorn.error - Application startup complete.
2025-05-24 18:42:42 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-05-24 18:42:58 - INFO - uvicorn - Successfully fetched 100/11000 users
2025-05-24 18:43:08 - INFO - uvicorn - Successfully fetched random user ID: 6569
2025-05-24 18:43:25 - INFO - uvicorn - Successfully fetched 100/11000 users
2025-05-24 18:43:26 - INFO - uvicorn - Successfully fetched random user ID: 6819
2025-05-24 18:43:32 - INFO - uvicorn - Successfully fetched 100/11000 users
2025-05-24 18:45:38 - INFO - uvicorn - Successfully fetched random user ID: 5491
2025-05-24 18:50:15 - INFO - uvicorn - Database engine created successfully
2025-05-24 18:50:15 - INFO - uvicorn.error - Started server process [7]
2025-05-24 18:50:15 - INFO - uvicorn.error - Waiting for application startup.
2025-05-24 18:50:15 - INFO - uvicorn - Starting app
2025-05-24 18:50:15 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-05-24 18:50:17 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-05-24 18:50:17 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-05-24 18:50:18 - INFO - uvicorn - User loading completed. Total added: 1000
2025-05-24 18:50:18 - INFO - uvicorn - Loading 1000 users completed
2025-05-24 18:50:18 - INFO - uvicorn.error - Application startup complete.
2025-05-24 18:50:18 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-05-24 18:50:32 - INFO - uvicorn - Successfully fetched 100/12000 users
2025-05-24 18:50:42 - INFO - uvicorn - Successfully fetched random user ID: 94
2025-05-24 18:51:43 - INFO - uvicorn - Database engine created successfully
2025-05-24 18:51:43 - INFO - uvicorn.error - Started server process [7]
2025-05-24 18:51:43 - INFO - uvicorn.error - Waiting for application startup.
2025-05-24 18:51:43 - INFO - uvicorn - Starting app
2025-05-24 18:51:43 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-05-24 18:51:43 - DEBUG - uvicorn - Total pages to process: 1
2025-05-24 18:51:43 - DEBUG - uvicorn - Processing page 1/1 with batch size 1000
2025-05-24 18:51:43 - DEBUG - uvicorn - Starting to fetch 1000 random users, page 1
2025-05-24 18:51:43 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1000, 'page': 1}
2025-05-24 18:51:44 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-05-24 18:51:44 - DEBUG - uvicorn - Response status: 200
2025-05-24 18:51:45 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-05-24 18:51:46 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 18:51:46 - INFO - uvicorn - User loading completed. Total added: 1000
2025-05-24 18:51:46 - DEBUG - uvicorn - Database session closed
2025-05-24 18:51:46 - INFO - uvicorn - Loading 1000 users completed
2025-05-24 18:51:46 - INFO - uvicorn.error - Application startup complete.
2025-05-24 18:51:46 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-05-24 18:51:58 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 18:51:58 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 18:51:58 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 18:51:58 - INFO - uvicorn - Successfully fetched 100/13000 users
2025-05-24 18:51:58 - DEBUG - uvicorn - First user ID: 1
2025-05-24 18:51:59 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 18:51:59 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 18:51:59 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 18:51:59 - INFO - uvicorn - Successfully fetched 100/13000 users
2025-05-24 18:51:59 - DEBUG - uvicorn - First user ID: 1
2025-05-24 18:52:09 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-05-24 18:52:09 - DEBUG - uvicorn - Total pages to process: 1
2025-05-24 18:52:09 - DEBUG - uvicorn - Processing page 1/1 with batch size 1
2025-05-24 18:52:09 - DEBUG - uvicorn - Starting to fetch 1 random users, page 1
2025-05-24 18:52:09 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 1}
2025-05-24 18:52:09 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-05-24 18:52:09 - DEBUG - uvicorn - Response status: 200
2025-05-24 18:52:09 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-05-24 18:52:09 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 18:52:09 - INFO - uvicorn - User loading completed. Total added: 1
2025-05-24 18:52:09 - DEBUG - uvicorn - Database session closed
2025-05-24 18:52:51 - DEBUG - uvicorn - Trying to get user from ID: 1
2025-05-24 18:52:51 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users 
WHERE users.id = :id_1
2025-05-24 18:52:51 - DEBUG - uvicorn - User successfully received: 1
2025-05-24 18:54:04 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 18:54:04 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 18:54:04 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 18:54:04 - INFO - uvicorn - Successfully fetched 100/13001 users
2025-05-24 18:54:04 - DEBUG - uvicorn - First user ID: 1
2025-05-24 19:09:04 - INFO - uvicorn - Database engine created successfully
2025-05-24 19:09:04 - INFO - uvicorn.error - Started server process [7]
2025-05-24 19:09:04 - INFO - uvicorn.error - Waiting for application startup.
2025-05-24 19:09:04 - INFO - uvicorn - Starting app
2025-05-24 19:09:04 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-05-24 19:09:04 - DEBUG - uvicorn - Total pages to process: 1
2025-05-24 19:09:04 - DEBUG - uvicorn - Processing page 1/1 with batch size 1000
2025-05-24 19:09:04 - DEBUG - uvicorn - Starting to fetch 1000 random users, page 1
2025-05-24 19:09:04 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1000, 'page': 1}
2025-05-24 19:09:09 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-05-24 19:09:09 - DEBUG - uvicorn - Response status: 200
2025-05-24 19:09:09 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-05-24 19:09:10 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 19:09:10 - INFO - uvicorn - User loading completed. Total added: 1000
2025-05-24 19:09:10 - DEBUG - uvicorn - Database session closed
2025-05-24 19:09:10 - INFO - uvicorn - Loading 1000 users completed
2025-05-24 19:09:10 - INFO - uvicorn.error - Application startup complete.
2025-05-24 19:09:10 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-05-24 19:09:30 - DEBUG - uvicorn - Trying to get user from ID: 2
2025-05-24 19:09:30 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users 
WHERE users.id = :id_1
2025-05-24 19:09:30 - DEBUG - uvicorn - User successfully received: 2
2025-05-24 19:11:04 - DEBUG - uvicorn - Trying to get user from ID: 1
2025-05-24 19:11:04 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users 
WHERE users.id = :id_1
2025-05-24 19:11:04 - DEBUG - uvicorn - User successfully received: 1
2025-05-24 19:11:36 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 19:11:36 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:11:36 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:11:36 - INFO - uvicorn - Successfully fetched 100/14001 users
2025-05-24 19:11:36 - DEBUG - uvicorn - First user ID: 1
2025-05-24 19:11:41 - INFO - uvicorn - Starting user loading process. Total: 555, batch size: 5000
2025-05-24 19:11:41 - DEBUG - uvicorn - Total pages to process: 1
2025-05-24 19:11:41 - DEBUG - uvicorn - Processing page 1/1 with batch size 555
2025-05-24 19:11:41 - DEBUG - uvicorn - Starting to fetch 555 random users, page 1
2025-05-24 19:11:41 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 555, 'page': 1}
2025-05-24 19:11:42 - INFO - uvicorn - Successfully fetched 555 users from API, page 1
2025-05-24 19:11:42 - DEBUG - uvicorn - Response status: 200
2025-05-24 19:11:42 - INFO - uvicorn - Successfully fetched page 1: 555 users
2025-05-24 19:11:42 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 19:11:42 - INFO - uvicorn - User loading completed. Total added: 555
2025-05-24 19:11:42 - DEBUG - uvicorn - Database session closed
2025-05-24 22:20:05 - INFO - uvicorn - Database engine created successfully
2025-05-24 22:20:05 - INFO - uvicorn - Starting user loading process. Total: 2, batch size: 1
2025-05-24 22:20:05 - DEBUG - uvicorn - Total pages to process: 2
2025-05-24 22:20:05 - DEBUG - uvicorn - Processing page 1/2 with batch size 1
2025-05-24 22:20:05 - DEBUG - uvicorn - Starting to fetch 1 random users, page 1
2025-05-24 22:20:06 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 1}
2025-05-24 22:20:06 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-05-24 22:20:06 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:20:06 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-05-24 22:20:06 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 22:20:06 - DEBUG - uvicorn - Processing page 2/2 with batch size 1
2025-05-24 22:20:06 - DEBUG - uvicorn - Starting to fetch 1 random users, page 2
2025-05-24 22:20:06 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 2}
2025-05-24 22:20:07 - INFO - uvicorn - Successfully fetched 1 users from API, page 2
2025-05-24 22:20:07 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:20:07 - INFO - uvicorn - Successfully fetched page 2: 1 users
2025-05-24 22:20:07 - DEBUG - uvicorn - Successfully committed page 2
2025-05-24 22:20:07 - INFO - uvicorn - User loading completed. Total added: 2
2025-05-24 22:20:07 - DEBUG - uvicorn - Database session closed
2025-05-24 22:20:07 - DEBUG - uvicorn - Trying to get user from ID: 1
2025-05-24 22:20:07 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users 
WHERE users.id = :id_1
2025-05-24 22:20:07 - DEBUG - uvicorn - User successfully received: 1
2025-05-24 22:20:07 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:20:07 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:20:07 - INFO - uvicorn - Successfully fetched random user ID: 1
2025-05-24 22:20:07 - DEBUG - uvicorn - User details - Email: None | Name: Artem As
2025-05-24 22:20:07 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:20:07 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:20:07 - WARNING - uvicorn - No users found in database when fetching random user
2025-05-24 22:20:07 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:20:07 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:20:07 - ERROR - uvicorn - Database error while fetching random user: Database error
Traceback (most recent call last):
  File "/home/artem/randomuser_app/app/api/crud.py", line 123, in get_random_user
    result = await self.session.execute(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/unittest/mock.py", line 2262, in _execute_mock_call
    raise effect
sqlalchemy.exc.SQLAlchemyError: Database error
2025-05-24 22:20:07 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=0
2025-05-24 22:20:07 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:20:07 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:20:07 - INFO - uvicorn - Successfully fetched 2/2 users
2025-05-24 22:20:07 - DEBUG - uvicorn - First user ID: 1
2025-05-24 22:20:07 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=100
2025-05-24 22:20:07 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:20:07 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:20:07 - INFO - uvicorn - Successfully fetched 0/0 users
2025-05-24 22:20:07 - DEBUG - uvicorn - First user ID: <MagicMock name='mock.execute().scalars().all().__getitem__().id' id='139084142921536'>
2025-05-24 22:20:07 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=0
2025-05-24 22:20:07 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:20:07 - ERROR - uvicorn - Database error while fetching users (limit=2, offset=0): Database error
Traceback (most recent call last):
  File "/home/artem/randomuser_app/app/api/crud.py", line 155, in get_users_from_db
    users_in_db = await self.session.execute(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/unittest/mock.py", line 2262, in _execute_mock_call
    raise effect
sqlalchemy.exc.SQLAlchemyError: Database error
2025-05-24 22:20:07 - DEBUG - uvicorn - Starting to fetch 10 random users, page 1
2025-05-24 22:20:07 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 10, 'page': 1}
2025-05-24 22:20:07 - INFO - uvicorn - Successfully fetched 10 users from API, page 1
2025-05-24 22:20:07 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:22:13 - INFO - uvicorn - Database engine created successfully
2025-05-24 22:23:07 - INFO - uvicorn - Database engine created successfully
2025-05-24 22:23:21 - INFO - uvicorn - Database engine created successfully
2025-05-24 22:23:21 - DEBUG - uvicorn - Starting to fetch 10 random users, page 1
2025-05-24 22:23:21 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 10, 'page': 1}
2025-05-24 22:23:21 - INFO - uvicorn - Successfully fetched 10 users from API, page 1
2025-05-24 22:23:21 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:23:28 - INFO - uvicorn - Database engine created successfully
2025-05-24 22:23:28 - INFO - uvicorn - Starting user loading process. Total: 2, batch size: 1
2025-05-24 22:23:28 - DEBUG - uvicorn - Total pages to process: 2
2025-05-24 22:23:28 - DEBUG - uvicorn - Processing page 1/2 with batch size 1
2025-05-24 22:23:28 - DEBUG - uvicorn - Starting to fetch 1 random users, page 1
2025-05-24 22:23:28 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 1}
2025-05-24 22:23:28 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-05-24 22:23:28 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:23:28 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-05-24 22:23:28 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 22:23:28 - DEBUG - uvicorn - Processing page 2/2 with batch size 1
2025-05-24 22:23:28 - DEBUG - uvicorn - Starting to fetch 1 random users, page 2
2025-05-24 22:23:28 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 2}
2025-05-24 22:23:29 - INFO - uvicorn - Successfully fetched 1 users from API, page 2
2025-05-24 22:23:29 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:23:29 - INFO - uvicorn - Successfully fetched page 2: 1 users
2025-05-24 22:23:29 - DEBUG - uvicorn - Successfully committed page 2
2025-05-24 22:23:29 - INFO - uvicorn - User loading completed. Total added: 2
2025-05-24 22:23:29 - DEBUG - uvicorn - Database session closed
2025-05-24 22:23:29 - DEBUG - uvicorn - Trying to get user from ID: 1
2025-05-24 22:23:29 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users 
WHERE users.id = :id_1
2025-05-24 22:23:29 - DEBUG - uvicorn - User successfully received: 1
2025-05-24 22:23:29 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:23:29 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:23:29 - INFO - uvicorn - Successfully fetched random user ID: 1
2025-05-24 22:23:29 - DEBUG - uvicorn - User details - Email: None | Name: Artem As
2025-05-24 22:23:29 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:23:29 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:23:29 - WARNING - uvicorn - No users found in database when fetching random user
2025-05-24 22:23:29 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:23:29 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:23:29 - ERROR - uvicorn - Database error while fetching random user: Database error
Traceback (most recent call last):
  File "/home/artem/randomuser_app/app/api/crud.py", line 123, in get_random_user
    result = await self.session.execute(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/unittest/mock.py", line 2262, in _execute_mock_call
    raise effect
sqlalchemy.exc.SQLAlchemyError: Database error
2025-05-24 22:23:29 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=0
2025-05-24 22:23:29 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:23:29 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:23:29 - INFO - uvicorn - Successfully fetched 2/2 users
2025-05-24 22:23:29 - DEBUG - uvicorn - First user ID: 1
2025-05-24 22:23:29 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=100
2025-05-24 22:23:29 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:23:29 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:23:29 - INFO - uvicorn - Successfully fetched 0/0 users
2025-05-24 22:23:29 - DEBUG - uvicorn - First user ID: <MagicMock name='mock.execute().scalars().all().__getitem__().id' id='132338681620256'>
2025-05-24 22:23:29 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=0
2025-05-24 22:23:29 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:23:29 - ERROR - uvicorn - Database error while fetching users (limit=2, offset=0): Database error
Traceback (most recent call last):
  File "/home/artem/randomuser_app/app/api/crud.py", line 155, in get_users_from_db
    users_in_db = await self.session.execute(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/unittest/mock.py", line 2262, in _execute_mock_call
    raise effect
sqlalchemy.exc.SQLAlchemyError: Database error
2025-05-24 22:23:29 - DEBUG - uvicorn - Starting to fetch 10 random users, page 1
2025-05-24 22:23:29 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 10, 'page': 1}
2025-05-24 22:23:29 - INFO - uvicorn - Successfully fetched 10 users from API, page 1
2025-05-24 22:23:29 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:24:12 - INFO - uvicorn - Database engine created successfully
2025-05-24 22:24:12 - INFO - uvicorn - Starting user loading process. Total: 2, batch size: 1
2025-05-24 22:24:12 - DEBUG - uvicorn - Total pages to process: 2
2025-05-24 22:24:12 - DEBUG - uvicorn - Processing page 1/2 with batch size 1
2025-05-24 22:24:12 - DEBUG - uvicorn - Starting to fetch 1 random users, page 1
2025-05-24 22:24:12 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 1}
2025-05-24 22:24:12 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-05-24 22:24:12 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:24:12 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-05-24 22:24:12 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 22:24:12 - DEBUG - uvicorn - Processing page 2/2 with batch size 1
2025-05-24 22:24:12 - DEBUG - uvicorn - Starting to fetch 1 random users, page 2
2025-05-24 22:24:12 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 2}
2025-05-24 22:24:13 - INFO - uvicorn - Successfully fetched 1 users from API, page 2
2025-05-24 22:24:13 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:24:13 - INFO - uvicorn - Successfully fetched page 2: 1 users
2025-05-24 22:24:13 - DEBUG - uvicorn - Successfully committed page 2
2025-05-24 22:24:13 - INFO - uvicorn - User loading completed. Total added: 2
2025-05-24 22:24:13 - DEBUG - uvicorn - Database session closed
2025-05-24 22:24:13 - DEBUG - uvicorn - Trying to get user from ID: 1
2025-05-24 22:24:13 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users 
WHERE users.id = :id_1
2025-05-24 22:24:13 - DEBUG - uvicorn - User successfully received: 1
2025-05-24 22:24:13 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:24:13 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:24:13 - INFO - uvicorn - Successfully fetched random user ID: 1
2025-05-24 22:24:13 - DEBUG - uvicorn - User details - Email: None | Name: Artem As
2025-05-24 22:24:13 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:24:13 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:24:13 - WARNING - uvicorn - No users found in database when fetching random user
2025-05-24 22:24:13 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:24:13 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:24:13 - ERROR - uvicorn - Database error while fetching random user: Database error
Traceback (most recent call last):
  File "/home/artem/randomuser_app/app/api/crud.py", line 123, in get_random_user
    result = await self.session.execute(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/unittest/mock.py", line 2262, in _execute_mock_call
    raise effect
sqlalchemy.exc.SQLAlchemyError: Database error
2025-05-24 22:24:13 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=0
2025-05-24 22:24:13 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:24:13 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:24:13 - INFO - uvicorn - Successfully fetched 2/2 users
2025-05-24 22:24:13 - DEBUG - uvicorn - First user ID: 1
2025-05-24 22:24:13 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=100
2025-05-24 22:24:13 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:24:13 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:24:13 - INFO - uvicorn - Successfully fetched 0/0 users
2025-05-24 22:24:13 - DEBUG - uvicorn - First user ID: <MagicMock name='mock.execute().scalars().all().__getitem__().id' id='123428492146256'>
2025-05-24 22:24:13 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=0
2025-05-24 22:24:13 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:24:13 - ERROR - uvicorn - Database error while fetching users (limit=2, offset=0): Database error
Traceback (most recent call last):
  File "/home/artem/randomuser_app/app/api/crud.py", line 155, in get_users_from_db
    users_in_db = await self.session.execute(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/unittest/mock.py", line 2262, in _execute_mock_call
    raise effect
sqlalchemy.exc.SQLAlchemyError: Database error
2025-05-24 22:25:12 - INFO - uvicorn - Database engine created successfully
2025-05-24 22:25:13 - INFO - uvicorn - Starting user loading process. Total: 2, batch size: 1
2025-05-24 22:25:13 - DEBUG - uvicorn - Total pages to process: 2
2025-05-24 22:25:13 - DEBUG - uvicorn - Processing page 1/2 with batch size 1
2025-05-24 22:25:13 - DEBUG - uvicorn - Starting to fetch 1 random users, page 1
2025-05-24 22:25:13 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 1}
2025-05-24 22:25:13 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-05-24 22:25:13 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:25:13 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-05-24 22:25:13 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 22:25:13 - DEBUG - uvicorn - Processing page 2/2 with batch size 1
2025-05-24 22:25:13 - DEBUG - uvicorn - Starting to fetch 1 random users, page 2
2025-05-24 22:25:13 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 2}
2025-05-24 22:25:13 - INFO - uvicorn - Successfully fetched 1 users from API, page 2
2025-05-24 22:25:13 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:25:13 - INFO - uvicorn - Successfully fetched page 2: 1 users
2025-05-24 22:25:13 - DEBUG - uvicorn - Successfully committed page 2
2025-05-24 22:25:13 - INFO - uvicorn - User loading completed. Total added: 2
2025-05-24 22:25:13 - DEBUG - uvicorn - Database session closed
2025-05-24 22:25:13 - DEBUG - uvicorn - Trying to get user from ID: 1
2025-05-24 22:25:13 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users 
WHERE users.id = :id_1
2025-05-24 22:25:13 - DEBUG - uvicorn - User successfully received: 1
2025-05-24 22:25:13 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:25:13 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:25:13 - INFO - uvicorn - Successfully fetched random user ID: 1
2025-05-24 22:25:13 - DEBUG - uvicorn - User details - Email: None | Name: Artem As
2025-05-24 22:25:13 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=0
2025-05-24 22:25:13 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:25:13 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:25:13 - INFO - uvicorn - Successfully fetched 2/2 users
2025-05-24 22:25:13 - DEBUG - uvicorn - First user ID: 1
2025-05-24 22:25:13 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=100
2025-05-24 22:25:13 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:25:13 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:25:13 - INFO - uvicorn - Successfully fetched 0/0 users
2025-05-24 22:25:13 - DEBUG - uvicorn - First user ID: <MagicMock name='mock.execute().scalars().all().__getitem__().id' id='127005724691536'>
2025-05-24 22:25:13 - DEBUG - uvicorn - Starting to fetch 10 random users, page 1
2025-05-24 22:25:14 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 10, 'page': 1}
2025-05-24 22:25:14 - INFO - uvicorn - Successfully fetched 10 users from API, page 1
2025-05-24 22:25:14 - DEBUG - uvicorn - Response status: 200
2025-05-24 19:39:44 - INFO - uvicorn - Database engine created successfully
2025-05-24 19:39:44 - INFO - uvicorn.error - Started server process [7]
2025-05-24 19:39:44 - INFO - uvicorn.error - Waiting for application startup.
2025-05-24 19:39:44 - INFO - uvicorn.error - ASGI 'lifespan' protocol appears unsupported.
2025-05-24 19:39:44 - INFO - uvicorn.error - Application startup complete.
2025-05-24 19:39:44 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-05-24 19:39:48 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:39:53 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:39:59 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:40:04 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:40:09 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:40:15 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:40:20 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:40:25 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:40:31 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:40:36 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:40:42 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:40:47 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:40:52 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:40:58 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:41:03 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:41:09 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:41:14 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:41:19 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:41:25 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:41:30 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:41:36 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:41:41 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:41:46 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:41:52 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:41:57 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:42:03 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:42:08 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:42:13 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:42:19 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:42:24 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:42:29 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:42:35 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:42:40 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:42:46 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:42:51 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:42:56 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:43:02 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:43:07 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:43:12 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:43:18 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
TypeError: LogFilterMiddleware.__call__() takes 3 positional arguments but 4 were given
2025-05-24 19:43:31 - INFO - uvicorn - Database engine created successfully
2025-05-24 19:43:31 - INFO - uvicorn.error - Started server process [8]
2025-05-24 19:43:31 - INFO - uvicorn.error - Waiting for application startup.
2025-05-24 19:43:31 - INFO - uvicorn - Starting app
2025-05-24 19:43:31 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-05-24 19:43:31 - DEBUG - uvicorn - Total pages to process: 1
2025-05-24 19:43:31 - DEBUG - uvicorn - Processing page 1/1 with batch size 1000
2025-05-24 19:43:31 - DEBUG - uvicorn - Starting to fetch 1000 random users, page 1
2025-05-24 19:43:31 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1000, 'page': 1}
2025-05-24 19:43:32 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-05-24 19:43:32 - DEBUG - uvicorn - Response status: 200
2025-05-24 19:43:32 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-05-24 19:43:34 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 19:43:34 - INFO - uvicorn - User loading completed. Total added: 1000
2025-05-24 19:43:34 - DEBUG - uvicorn - Database session closed
2025-05-24 19:43:34 - INFO - uvicorn - Loading 1000 users completed
2025-05-24 19:43:34 - INFO - uvicorn.error - Application startup complete.
2025-05-24 19:43:34 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-05-24 19:43:40 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 19:43:40 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:43:40 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:43:40 - INFO - uvicorn - Successfully fetched 100/15556 users
2025-05-24 19:43:40 - DEBUG - uvicorn - First user ID: 1
2025-05-24 19:43:41 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 19:43:41 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:43:41 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:43:41 - INFO - uvicorn - Successfully fetched 100/15556 users
2025-05-24 19:43:41 - DEBUG - uvicorn - First user ID: 1
2025-05-24 19:43:42 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 19:43:42 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:43:42 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:43:42 - INFO - uvicorn - Successfully fetched 100/15556 users
2025-05-24 19:43:42 - DEBUG - uvicorn - First user ID: 1
2025-05-24 19:43:42 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 19:43:42 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:43:42 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:43:42 - INFO - uvicorn - Successfully fetched 100/15556 users
2025-05-24 19:43:42 - DEBUG - uvicorn - First user ID: 1
2025-05-24 22:45:06 - INFO - uvicorn - Database engine created successfully
2025-05-24 22:45:06 - INFO - uvicorn - Starting user loading process. Total: 2, batch size: 1
2025-05-24 22:45:06 - DEBUG - uvicorn - Total pages to process: 2
2025-05-24 22:45:06 - DEBUG - uvicorn - Processing page 1/2 with batch size 1
2025-05-24 22:45:06 - DEBUG - uvicorn - Starting to fetch 1 random users, page 1
2025-05-24 22:45:06 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 1}
2025-05-24 22:45:06 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-05-24 22:45:06 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:45:06 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-05-24 22:45:06 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 22:45:06 - DEBUG - uvicorn - Processing page 2/2 with batch size 1
2025-05-24 22:45:06 - DEBUG - uvicorn - Starting to fetch 1 random users, page 2
2025-05-24 22:45:07 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 2}
2025-05-24 22:45:07 - INFO - uvicorn - Successfully fetched 1 users from API, page 2
2025-05-24 22:45:07 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:45:07 - INFO - uvicorn - Successfully fetched page 2: 1 users
2025-05-24 22:45:07 - DEBUG - uvicorn - Successfully committed page 2
2025-05-24 22:45:07 - INFO - uvicorn - User loading completed. Total added: 2
2025-05-24 22:45:07 - DEBUG - uvicorn - Database session closed
2025-05-24 22:45:07 - DEBUG - uvicorn - Trying to get user from ID: 1
2025-05-24 22:45:07 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users 
WHERE users.id = :id_1
2025-05-24 22:45:07 - DEBUG - uvicorn - User successfully received: 1
2025-05-24 22:45:07 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:45:07 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:45:07 - INFO - uvicorn - Successfully fetched random user ID: 1
2025-05-24 22:45:07 - DEBUG - uvicorn - User details - Email: None | Name: Artem As
2025-05-24 22:45:07 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=0
2025-05-24 22:45:07 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:45:07 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:45:07 - INFO - uvicorn - Successfully fetched 2/2 users
2025-05-24 22:45:07 - DEBUG - uvicorn - First user ID: 1
2025-05-24 22:45:07 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=100
2025-05-24 22:45:07 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:45:07 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:45:07 - INFO - uvicorn - Successfully fetched 0/0 users
2025-05-24 22:45:07 - DEBUG - uvicorn - First user ID: <MagicMock name='mock.execute().scalars().all().__getitem__().id' id='138493361293504'>
2025-05-24 22:45:07 - DEBUG - uvicorn - Starting to fetch 10 random users, page 1
2025-05-24 22:45:07 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 10, 'page': 1}
2025-05-24 22:45:07 - INFO - uvicorn - Successfully fetched 10 users from API, page 1
2025-05-24 22:45:07 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:45:26 - INFO - uvicorn - Database engine created successfully
2025-05-24 22:45:26 - INFO - uvicorn - Starting user loading process. Total: 2, batch size: 1
2025-05-24 22:45:26 - DEBUG - uvicorn - Total pages to process: 2
2025-05-24 22:45:26 - DEBUG - uvicorn - Processing page 1/2 with batch size 1
2025-05-24 22:45:26 - DEBUG - uvicorn - Starting to fetch 1 random users, page 1
2025-05-24 22:45:26 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 1}
2025-05-24 22:45:27 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-05-24 22:45:27 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:45:27 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-05-24 22:45:27 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 22:45:27 - DEBUG - uvicorn - Processing page 2/2 with batch size 1
2025-05-24 22:45:27 - DEBUG - uvicorn - Starting to fetch 1 random users, page 2
2025-05-24 22:45:27 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1, 'page': 2}
2025-05-24 22:45:27 - INFO - uvicorn - Successfully fetched 1 users from API, page 2
2025-05-24 22:45:27 - DEBUG - uvicorn - Response status: 200
2025-05-24 22:45:27 - INFO - uvicorn - Successfully fetched page 2: 1 users
2025-05-24 22:45:27 - DEBUG - uvicorn - Successfully committed page 2
2025-05-24 22:45:27 - INFO - uvicorn - User loading completed. Total added: 2
2025-05-24 22:45:27 - DEBUG - uvicorn - Database session closed
2025-05-24 22:45:27 - DEBUG - uvicorn - Trying to get user from ID: 1
2025-05-24 22:45:27 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users 
WHERE users.id = :id_1
2025-05-24 22:45:27 - DEBUG - uvicorn - User successfully received: 1
2025-05-24 22:45:27 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 22:45:27 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 22:45:27 - INFO - uvicorn - Successfully fetched random user ID: 1
2025-05-24 22:45:27 - DEBUG - uvicorn - User details - Email: None | Name: Artem As
2025-05-24 22:45:27 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=0
2025-05-24 22:45:27 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:45:27 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:45:27 - INFO - uvicorn - Successfully fetched 2/2 users
2025-05-24 22:45:27 - DEBUG - uvicorn - First user ID: 1
2025-05-24 22:45:27 - DEBUG - uvicorn - Fetching users from DB with limit=2, offset=100
2025-05-24 22:45:27 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 22:45:27 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 22:45:27 - INFO - uvicorn - Successfully fetched 0/0 users
2025-05-24 22:45:27 - DEBUG - uvicorn - First user ID: <MagicMock name='mock.execute().scalars().all().__getitem__().id' id='127394258553168'>
2025-05-24 22:45:27 - DEBUG - uvicorn - Starting to fetch 10 random users, page 1
2025-05-24 22:45:27 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 10, 'page': 1}
2025-05-24 22:45:27 - INFO - uvicorn - Successfully fetched 10 users from API, page 1
2025-05-24 22:45:27 - DEBUG - uvicorn - Response status: 200
2025-05-24 19:45:51 - INFO - uvicorn - Database engine created successfully
2025-05-24 19:45:51 - INFO - uvicorn.error - Started server process [7]
2025-05-24 19:45:51 - INFO - uvicorn.error - Waiting for application startup.
2025-05-24 19:45:51 - INFO - uvicorn - Starting app
2025-05-24 19:45:51 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-05-24 19:45:51 - DEBUG - uvicorn - Total pages to process: 1
2025-05-24 19:45:51 - DEBUG - uvicorn - Processing page 1/1 with batch size 1000
2025-05-24 19:45:51 - DEBUG - uvicorn - Starting to fetch 1000 random users, page 1
2025-05-24 19:45:51 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 1000, 'page': 1}
2025-05-24 19:45:52 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-05-24 19:45:52 - DEBUG - uvicorn - Response status: 200
2025-05-24 19:45:52 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-05-24 19:45:53 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 19:45:53 - INFO - uvicorn - User loading completed. Total added: 1000
2025-05-24 19:45:53 - DEBUG - uvicorn - Database session closed
2025-05-24 19:45:53 - INFO - uvicorn - Loading 1000 users completed
2025-05-24 19:45:53 - INFO - uvicorn.error - Application startup complete.
2025-05-24 19:45:53 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-05-24 19:45:56 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 19:45:56 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:45:56 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:45:56 - INFO - uvicorn - Successfully fetched 100/16556 users
2025-05-24 19:45:56 - DEBUG - uvicorn - First user ID: 1
2025-05-24 19:46:00 - DEBUG - uvicorn - Trying to get user from ID: 1
2025-05-24 19:46:00 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users 
WHERE users.id = :id_1
2025-05-24 19:46:00 - DEBUG - uvicorn - User successfully received: 1
2025-05-24 19:46:01 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 19:46:01 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:46:01 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:46:01 - INFO - uvicorn - Successfully fetched 100/16556 users
2025-05-24 19:46:01 - DEBUG - uvicorn - First user ID: 1
2025-05-24 19:46:02 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 19:46:02 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 19:46:02 - INFO - uvicorn - Successfully fetched random user ID: 2562
2025-05-24 19:46:02 - DEBUG - uvicorn - User details - Email: layla.taylor@example.com | Name: Layla Taylor
2025-05-24 19:46:03 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 19:46:03 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:46:03 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:46:03 - INFO - uvicorn - Successfully fetched 100/16556 users
2025-05-24 19:46:03 - DEBUG - uvicorn - First user ID: 1
2025-05-24 19:46:04 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 19:46:04 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 19:46:04 - INFO - uvicorn - Successfully fetched random user ID: 15819
2025-05-24 19:46:04 - DEBUG - uvicorn - User details - Email: boronislav.boychishin@example.com | Name: Boronislav Boychishin
2025-05-24 19:46:05 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=0
2025-05-24 19:46:05 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:46:05 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:46:05 - INFO - uvicorn - Successfully fetched 100/16556 users
2025-05-24 19:46:05 - DEBUG - uvicorn - First user ID: 1
2025-05-24 19:46:08 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=100
2025-05-24 19:46:08 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:46:08 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:46:08 - INFO - uvicorn - Successfully fetched 100/16556 users
2025-05-24 19:46:08 - DEBUG - uvicorn - First user ID: 101
2025-05-24 19:46:09 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=200
2025-05-24 19:46:09 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:46:09 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:46:09 - INFO - uvicorn - Successfully fetched 100/16556 users
2025-05-24 19:46:09 - DEBUG - uvicorn - First user ID: 201
2025-05-24 19:46:09 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=300
2025-05-24 19:46:09 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:46:09 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:46:09 - INFO - uvicorn - Successfully fetched 100/16556 users
2025-05-24 19:46:09 - DEBUG - uvicorn - First user ID: 301
2025-05-24 19:46:09 - DEBUG - uvicorn - Fetching users from DB with limit=100, offset=400
2025-05-24 19:46:09 - DEBUG - uvicorn - Executing users query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users
2025-05-24 19:46:09 - DEBUG - uvicorn - Executing count query: SELECT count(*) AS count_1 
FROM users
2025-05-24 19:46:09 - INFO - uvicorn - Successfully fetched 100/16556 users
2025-05-24 19:46:09 - DEBUG - uvicorn - First user ID: 401
2025-05-24 19:46:14 - DEBUG - uvicorn - Trying to get user from ID: 1
2025-05-24 19:46:14 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users 
WHERE users.id = :id_1
2025-05-24 19:46:15 - DEBUG - uvicorn - User successfully received: 1
2025-05-24 19:46:20 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 19:46:20 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 19:46:20 - INFO - uvicorn - Successfully fetched random user ID: 3282
2025-05-24 19:46:20 - DEBUG - uvicorn - User details - Email: kornelius.klungland@example.com | Name: Kornelius Klungland
2025-05-24 19:46:51 - INFO - uvicorn - Starting user loading process. Total: 444, batch size: 5000
2025-05-24 19:46:51 - DEBUG - uvicorn - Total pages to process: 1
2025-05-24 19:46:51 - DEBUG - uvicorn - Processing page 1/1 with batch size 444
2025-05-24 19:46:51 - DEBUG - uvicorn - Starting to fetch 444 random users, page 1
2025-05-24 19:46:51 - DEBUG - uvicorn - Making request to randomuser.me with params: {'results': 444, 'page': 1}
2025-05-24 19:46:52 - INFO - uvicorn - Successfully fetched 444 users from API, page 1
2025-05-24 19:46:52 - DEBUG - uvicorn - Response status: 200
2025-05-24 19:46:52 - INFO - uvicorn - Successfully fetched page 1: 444 users
2025-05-24 19:46:52 - DEBUG - uvicorn - Successfully committed page 1
2025-05-24 19:46:52 - INFO - uvicorn - User loading completed. Total added: 444
2025-05-24 19:46:52 - DEBUG - uvicorn - Database session closed
2025-05-24 19:49:06 - DEBUG - uvicorn - Attempting to fetch random user from database
2025-05-24 19:49:06 - DEBUG - uvicorn - Executing query: SELECT users.id, users.external_id, users.gender, users.first_name, users.last_name, users.email, users.phone, users.street, users.city, users.state, users.country, users.postcode, users.picture_thumbnail, users.profile_url 
FROM users ORDER BY random()
 LIMIT :param_1
2025-05-24 19:49:06 - INFO - uvicorn - Successfully fetched random user ID: 2504
2025-05-24 19:49:06 - DEBUG - uvicorn - User details - Email: patrick.hall@example.com | Name: Patrick Hall
2025-06-19 18:38:40 - INFO - uvicorn - Database engine created successfully
2025-06-19 18:38:40 - INFO - uvicorn.error - Started server process [7]
2025-06-19 18:38:40 - INFO - uvicorn.error - Waiting for application startup.
2025-06-19 18:38:40 - INFO - uvicorn - Starting app
2025-06-19 18:38:40 - ERROR - uvicorn - Error for connect Redis
2025-06-19 18:38:40 - ERROR - uvicorn.error - Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 302, in connect_check_health
    await self.retry.call_with_retry(
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/retry.py", line 71, in call_with_retry
    return await do()
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 759, in _connect
    reader, writer = await asyncio.open_connection(
  File "/usr/local/lib/python3.10/asyncio/streams.py", line 48, in open_connection
    transport, _ = await loop.create_connection(
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/local/lib/python3.10/socket.py", line 967, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno -3] Temporary failure in name resolution

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/app/core/redis.py", line 14, in get_redis
    await redis_client.ping()
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/client.py", line 673, in execute_command
    conn = self.connection or await pool.get_connection()
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 1145, in get_connection
    await self.ensure_connection(connection)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 1178, in ensure_connection
    await connection.connect()
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 296, in connect
    await self.connect_check_health(check_health=True)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 310, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/app/app/main.py", line 20, in lifespan
    redis = await get_redis()
  File "/app/app/core/redis.py", line 19, in get_redis
    raise RuntimeError(f'Error for connect at Redis:{e}')
RuntimeError: Error for connect at Redis:Error -3 connecting to redis:6379. Temporary failure in name resolution.

2025-06-19 18:38:40 - ERROR - uvicorn.error - Application startup failed. Exiting.
2025-06-19 18:41:54 - INFO - uvicorn - Database engine created successfully
2025-06-19 18:41:54 - INFO - uvicorn.error - Started server process [7]
2025-06-19 18:41:54 - INFO - uvicorn.error - Waiting for application startup.
2025-06-19 18:41:54 - INFO - uvicorn - Starting app
2025-06-19 18:41:54 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-06-19 18:41:56 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-06-19 18:41:56 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-06-19 18:41:58 - INFO - uvicorn - User loading completed. Total added: 1000
2025-06-19 18:41:58 - INFO - uvicorn - Loading 1000 users completed
2025-06-19 18:41:58 - INFO - uvicorn.error - Application startup complete.
2025-06-19 18:41:58 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-06-19 18:48:43 - INFO - uvicorn - Database engine created successfully
2025-06-19 18:48:43 - INFO - uvicorn.error - Started server process [7]
2025-06-19 18:48:43 - INFO - uvicorn.error - Waiting for application startup.
2025-06-19 18:48:43 - INFO - uvicorn - Starting app
2025-06-19 18:48:43 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-06-19 18:48:45 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-06-19 18:48:45 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-06-19 18:48:46 - INFO - uvicorn - User loading completed. Total added: 1000
2025-06-19 18:48:46 - INFO - uvicorn - Loading 1000 users completed
2025-06-19 18:48:46 - INFO - uvicorn.error - Application startup complete.
2025-06-19 18:48:46 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-06-19 18:49:03 - INFO - uvicorn - Successfully fetched 100/19000 users
2025-06-19 18:49:03 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-06-19 18:49:10 - INFO - uvicorn - Successfully fetched 100/19000 users
2025-06-19 18:49:10 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-06-19 18:49:18 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-06-19 18:49:18 - INFO - uvicorn - Successfully retrieved user ID: 1
2025-06-19 18:49:37 - INFO - uvicorn - Successfully fetched 100/19000 users
2025-06-19 18:49:37 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-06-19 18:49:39 - INFO - uvicorn - Successfully fetched 100/19000 users
2025-06-19 18:49:39 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-06-19 18:49:44 - INFO - uvicorn - Random user profile request from 172.31.0.5
2025-06-19 18:49:44 - INFO - uvicorn - Successfully fetched random user ID: 17613
2025-06-19 18:49:44 - INFO - uvicorn - Successfully retrieved random user
2025-06-19 18:49:47 - INFO - uvicorn - Successfully fetched 100/19000 users
2025-06-19 18:49:47 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:12:17 - INFO - uvicorn - Database engine created successfully
2025-07-04 15:12:17 - INFO - uvicorn.error - Started server process [7]
2025-07-04 15:12:17 - INFO - uvicorn.error - Waiting for application startup.
2025-07-04 15:12:17 - INFO - uvicorn - Starting app
2025-07-04 15:12:17 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-04 15:12:18 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-04 15:12:18 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-04 15:12:20 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-04 15:12:20 - INFO - uvicorn - Loading 1000 users completed
2025-07-04 15:12:20 - INFO - uvicorn.error - Application startup complete.
2025-07-04 15:12:20 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04 15:13:48 - INFO - uvicorn - Successfully fetched 100/20000 users
2025-07-04 15:13:48 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:14:00 - INFO - uvicorn - User load request from 172.31.0.1 for 12 users
2025-07-04 15:14:00 - INFO - uvicorn - Starting user loading process. Total: 12, batch size: 5000
2025-07-04 15:14:01 - INFO - uvicorn - Successfully fetched 12 users from API, page 1
2025-07-04 15:14:01 - INFO - uvicorn - Successfully fetched page 1: 12 users
2025-07-04 15:14:01 - INFO - uvicorn - User loading completed. Total added: 12
2025-07-04 15:14:01 - INFO - uvicorn - Successfully loaded 12 users
2025-07-04 15:14:33 - INFO - uvicorn - Random user profile request from 172.31.0.1
2025-07-04 15:14:33 - INFO - uvicorn - Successfully fetched random user ID: 15237
2025-07-04 15:14:33 - INFO - uvicorn - Successfully retrieved random user
2025-07-04 15:14:46 - INFO - uvicorn - Successfully fetched 100/20012 users
2025-07-04 15:14:46 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:14:47 - INFO - uvicorn - Random user profile request from 172.31.0.1
2025-07-04 15:14:47 - INFO - uvicorn - Successfully fetched random user ID: 2461
2025-07-04 15:14:47 - INFO - uvicorn - Successfully retrieved random user
2025-07-04 15:14:50 - INFO - uvicorn - Successfully fetched 100/20012 users
2025-07-04 15:14:50 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:14:50 - INFO - uvicorn - Random user profile request from 172.31.0.1
2025-07-04 15:14:51 - INFO - uvicorn - Successfully fetched random user ID: 10936
2025-07-04 15:14:51 - INFO - uvicorn - Successfully retrieved random user
2025-07-04 15:14:52 - INFO - uvicorn - Successfully fetched 100/20012 users
2025-07-04 15:14:52 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:15:02 - INFO - uvicorn - Successfully fetched 100/20012 users
2025-07-04 15:15:02 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:17:09 - INFO - uvicorn - Successfully fetched 100/20012 users
2025-07-04 15:17:09 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:18:41 - INFO - uvicorn - Successfully fetched 100/20012 users
2025-07-04 15:18:41 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:19:02 - INFO - uvicorn - User profile request for ID: 3 from 172.31.0.1
2025-07-04 15:19:02 - INFO - uvicorn - Successfully retrieved user ID: 3
2025-07-04 15:19:35 - INFO - uvicorn - User profile request for ID: 2 from 172.31.0.1
2025-07-04 15:19:35 - INFO - uvicorn - Successfully retrieved user ID: 2
2025-07-04 15:22:49 - INFO - uvicorn - Successfully fetched 100/20012 users
2025-07-04 15:22:49 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:24:15 - INFO - uvicorn - Successfully fetched 100/20012 users
2025-07-04 15:24:15 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:24:17 - INFO - uvicorn - Successfully fetched 100/20012 users
2025-07-04 15:24:17 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:24:26 - INFO - uvicorn - Random user profile request from 172.31.0.1
2025-07-04 15:24:26 - INFO - uvicorn - Successfully fetched random user ID: 5235
2025-07-04 15:24:26 - INFO - uvicorn - Successfully retrieved random user
2025-07-04 15:24:27 - INFO - uvicorn - Successfully fetched 100/20012 users
2025-07-04 15:24:27 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:24:41 - INFO - uvicorn - User load request from 172.31.0.1 for 2 users
2025-07-04 15:24:41 - INFO - uvicorn - Starting user loading process. Total: 2, batch size: 5000
2025-07-04 15:24:41 - INFO - uvicorn - Successfully fetched 2 users from API, page 1
2025-07-04 15:24:41 - INFO - uvicorn - Successfully fetched page 1: 2 users
2025-07-04 15:24:41 - INFO - uvicorn - User loading completed. Total added: 2
2025-07-04 15:24:41 - INFO - uvicorn - Successfully loaded 2 users
2025-07-04 15:29:14 - INFO - uvicorn - Database engine created successfully
2025-07-04 15:29:14 - INFO - uvicorn.error - Started server process [7]
2025-07-04 15:29:14 - INFO - uvicorn.error - Waiting for application startup.
2025-07-04 15:29:14 - INFO - uvicorn - Starting app
2025-07-04 15:29:14 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-04 15:29:15 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-04 15:29:15 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-04 15:29:17 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-04 15:29:17 - INFO - uvicorn - Loading 1000 users completed
2025-07-04 15:29:17 - INFO - uvicorn.error - Application startup complete.
2025-07-04 15:29:17 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04 15:29:30 - INFO - uvicorn - User profile request for ID: 2 from 172.31.0.5
2025-07-04 15:29:30 - INFO - uvicorn - Successfully retrieved user ID: 2
2025-07-04 15:29:57 - INFO - uvicorn - Successfully fetched 100/21014 users
2025-07-04 15:29:57 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:30:02 - INFO - uvicorn - Successfully fetched 100/21014 users
2025-07-04 15:30:02 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:31:08 - INFO - uvicorn - Successfully fetched 100/21014 users
2025-07-04 15:31:08 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:32:02 - INFO - uvicorn - Successfully fetched 100/21014 users
2025-07-04 15:32:02 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 15:42:25 - INFO - uvicorn - User load request from 172.31.0.1 for 12 users
2025-07-04 15:42:25 - INFO - uvicorn - Starting user loading process. Total: 12, batch size: 5000
2025-07-04 15:42:25 - INFO - uvicorn - Successfully fetched 12 users from API, page 1
2025-07-04 15:42:25 - INFO - uvicorn - Successfully fetched page 1: 12 users
2025-07-04 15:42:25 - INFO - uvicorn - User loading completed. Total added: 12
2025-07-04 15:42:25 - INFO - uvicorn - Successfully loaded 12 users
2025-07-04 16:50:03 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-04 16:50:03 - INFO - uvicorn - Successfully retrieved user ID: 1
2025-07-04 19:35:53 - INFO - uvicorn - Database engine created successfully
2025-07-04 19:35:53 - INFO - uvicorn.error - Started server process [7]
2025-07-04 19:35:53 - INFO - uvicorn.error - Waiting for application startup.
2025-07-04 19:35:53 - INFO - uvicorn - Starting app
2025-07-04 19:35:53 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-04 19:35:55 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-04 19:35:55 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-04 19:35:56 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-04 19:35:56 - INFO - uvicorn - Loading 1000 users completed
2025-07-04 19:35:56 - INFO - uvicorn.error - Application startup complete.
2025-07-04 19:35:56 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04 19:36:14 - INFO - uvicorn - Successfully fetched 100/22026 users
2025-07-04 19:36:14 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 19:37:11 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-04 19:37:11 - ERROR - uvicorn - Cache update failed Object of type User is not JSON serializable
2025-07-04 19:37:11 - INFO - uvicorn - Successfully retrieved user ID: 1
2025-07-04 19:37:46 - INFO - uvicorn - Successfully fetched 100/22026 users
2025-07-04 19:37:46 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 19:37:47 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-04 19:37:47 - ERROR - uvicorn - Cache update failed Object of type User is not JSON serializable
2025-07-04 19:37:47 - INFO - uvicorn - Successfully retrieved user ID: 1
2025-07-04 19:39:13 - INFO - uvicorn - Successfully fetched 100/22026 users
2025-07-04 19:39:13 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 19:39:14 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-04 19:39:14 - ERROR - uvicorn - Cache update failed Object of type User is not JSON serializable
2025-07-04 19:39:14 - INFO - uvicorn - Successfully retrieved user ID: 1
2025-07-04 19:39:52 - INFO - uvicorn - Successfully fetched 100/22026 users
2025-07-04 19:39:52 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 20:01:07 - INFO - uvicorn - Database engine created successfully
2025-07-04 20:01:07 - INFO - uvicorn.error - Started server process [7]
2025-07-04 20:01:07 - INFO - uvicorn.error - Waiting for application startup.
2025-07-04 20:01:07 - INFO - uvicorn - Starting app
2025-07-04 20:01:07 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-04 20:01:08 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-04 20:01:08 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-04 20:01:09 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-04 20:01:09 - INFO - uvicorn - Loading 1000 users completed
2025-07-04 20:01:09 - INFO - uvicorn.error - Application startup complete.
2025-07-04 20:01:09 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04 20:01:30 - INFO - uvicorn - Successfully fetched 100/23026 users
2025-07-04 20:01:30 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 20:01:40 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-04 20:01:40 - INFO - uvicorn - Successfully retrieved user ID: 1
2025-07-04 20:01:56 - INFO - uvicorn - Successfully fetched 100/23026 users
2025-07-04 20:01:56 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 20:01:58 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-04 20:01:58 - INFO - uvicorn - Returning data from cache
2025-07-04 20:02:19 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-04 20:02:19 - INFO - uvicorn - Returning data from cache
2025-07-04 20:02:21 - INFO - uvicorn - User profile request for ID: 2 from 172.31.0.5
2025-07-04 20:02:21 - INFO - uvicorn - Successfully retrieved user ID: 2
2025-07-04 20:02:23 - INFO - uvicorn - Successfully fetched 100/23026 users
2025-07-04 20:02:23 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 20:02:24 - INFO - uvicorn - User profile request for ID: 2 from 172.31.0.5
2025-07-04 20:02:24 - INFO - uvicorn - Returning data from cache
2025-07-04 20:03:29 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-04 20:03:29 - INFO - uvicorn - Returning data from cache
2025-07-04 20:03:33 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-04 20:03:33 - INFO - uvicorn - Returning data from cache
2025-07-04 20:12:10 - INFO - uvicorn - Database engine created successfully
2025-07-04 20:12:10 - INFO - uvicorn.error - Started server process [7]
2025-07-04 20:12:10 - INFO - uvicorn.error - Waiting for application startup.
2025-07-04 20:12:10 - INFO - uvicorn - Starting app
2025-07-04 20:12:11 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-04 20:12:12 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-04 20:12:12 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-04 20:12:13 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-04 20:12:13 - INFO - uvicorn - Loading 1000 users completed
2025-07-04 20:12:13 - INFO - uvicorn.error - Application startup complete.
2025-07-04 20:12:13 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04 20:12:35 - INFO - uvicorn - Successfully fetched 100/24026 users
2025-07-04 20:12:35 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 20:12:37 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-04 20:12:37 - INFO - uvicorn - Returning data from cache
2025-07-04 20:12:48 - INFO - uvicorn - Successfully fetched 100/24026 users
2025-07-04 20:12:48 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 20:12:50 - INFO - uvicorn - User profile request for ID: 2 from 172.31.0.5
2025-07-04 20:12:50 - INFO - uvicorn - Returning data from cache
2025-07-04 20:13:23 - INFO - uvicorn - Successfully fetched 100/24026 users
2025-07-04 20:13:23 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 20:13:54 - INFO - uvicorn - User profile request for ID: 6 from 172.31.0.5
2025-07-04 20:13:54 - INFO - uvicorn - Successfully retrieved user ID: 6
2025-07-04 20:14:02 - INFO - uvicorn - Successfully fetched 100/24026 users
2025-07-04 20:14:02 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 20:14:04 - INFO - uvicorn - User profile request for ID: 6 from 172.31.0.5
2025-07-04 20:14:04 - INFO - uvicorn - Returning data from cache
2025-07-04 20:14:42 - INFO - uvicorn - Successfully fetched 100/24026 users
2025-07-04 20:14:42 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-04 20:18:25 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-04 20:18:25 - INFO - uvicorn - Returning data from cache
2025-07-05 18:21:50 - INFO - uvicorn - Database engine created successfully
2025-07-05 18:21:50 - INFO - uvicorn.error - Started server process [7]
2025-07-05 18:21:50 - INFO - uvicorn.error - Waiting for application startup.
2025-07-05 18:21:50 - INFO - uvicorn - Starting app
2025-07-05 18:21:51 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-05 18:21:52 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-05 18:21:52 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-05 18:21:54 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-05 18:21:54 - INFO - uvicorn - Loading 1000 users completed
2025-07-05 18:21:54 - INFO - uvicorn.error - Application startup complete.
2025-07-05 18:21:54 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-05 18:22:00 - INFO - uvicorn - Successfully fetched 100/25026 users
2025-07-05 18:22:00 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-05 18:22:02 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-05 18:22:02 - INFO - uvicorn - Successfully retrieved user ID: 1
2025-07-05 18:22:19 - INFO - uvicorn - Successfully fetched 100/25026 users
2025-07-05 18:22:19 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-05 18:22:21 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-05 18:22:21 - INFO - uvicorn - Returning data from cache
2025-07-05 18:22:32 - INFO - uvicorn - Successfully fetched 100/25026 users
2025-07-05 18:22:32 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-05 18:22:33 - INFO - uvicorn - User profile request for ID: 2 from 172.31.0.5
2025-07-05 18:22:33 - INFO - uvicorn - Successfully retrieved user ID: 2
2025-07-05 18:22:33 - INFO - uvicorn - Successfully fetched 100/25026 users
2025-07-05 18:22:33 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-05 18:22:34 - INFO - uvicorn - User profile request for ID: 2 from 172.31.0.5
2025-07-05 18:22:34 - INFO - uvicorn - Returning data from cache
2025-07-05 18:22:35 - INFO - uvicorn - Successfully fetched 100/25026 users
2025-07-05 18:22:35 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-05 18:22:37 - INFO - uvicorn - User profile request for ID: 3 from 172.31.0.5
2025-07-05 18:22:37 - INFO - uvicorn - Successfully retrieved user ID: 3
2025-07-05 18:22:38 - INFO - uvicorn - Successfully fetched 100/25026 users
2025-07-05 18:22:38 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-05 18:22:39 - INFO - uvicorn - User profile request for ID: 3 from 172.31.0.5
2025-07-05 18:22:39 - INFO - uvicorn - Returning data from cache
2025-07-05 18:22:40 - INFO - uvicorn - Successfully fetched 100/25026 users
2025-07-05 18:22:40 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-05 18:27:24 - INFO - uvicorn - User profile request for ID: 9 from 172.31.0.5
2025-07-05 18:27:24 - INFO - uvicorn - Successfully retrieved user ID: 9
2025-07-05 18:27:25 - INFO - uvicorn - Successfully fetched 100/25026 users
2025-07-05 18:27:25 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-05 18:27:28 - INFO - uvicorn - User profile request for ID: 9 from 172.31.0.5
2025-07-05 18:27:28 - INFO - uvicorn - Returning data from cache
2025-07-05 18:27:29 - INFO - uvicorn - Successfully fetched 100/25026 users
2025-07-05 18:27:29 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-06 17:14:13 - INFO - uvicorn - Database engine created successfully
2025-07-06 17:14:13 - INFO - uvicorn.error - Started server process [7]
2025-07-06 17:14:13 - INFO - uvicorn.error - Waiting for application startup.
2025-07-06 17:14:13 - INFO - uvicorn - Starting app
2025-07-06 17:14:13 - ERROR - uvicorn - Error for connect Redis
2025-07-06 17:14:13 - ERROR - uvicorn.error - Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 302, in connect_check_health
    await self.retry.call_with_retry(
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/retry.py", line 71, in call_with_retry
    return await do()
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 759, in _connect
    reader, writer = await asyncio.open_connection(
  File "/usr/local/lib/python3.10/asyncio/streams.py", line 48, in open_connection
    transport, _ = await loop.create_connection(
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/local/lib/python3.10/socket.py", line 967, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno -3] Temporary failure in name resolution

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/app/core/redis.py", line 16, in get_redis
    await redis_client.ping()
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/client.py", line 673, in execute_command
    conn = self.connection or await pool.get_connection()
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 1145, in get_connection
    await self.ensure_connection(connection)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 1178, in ensure_connection
    await connection.connect()
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 296, in connect
    await self.connect_check_health(check_health=True)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 310, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/app/app/main.py", line 20, in lifespan
    redis = await get_redis()
  File "/app/app/core/redis.py", line 21, in get_redis
    raise RuntimeError(f'Error for connect at Redis:{e}')
RuntimeError: Error for connect at Redis:Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.

2025-07-06 17:14:13 - ERROR - uvicorn.error - Application startup failed. Exiting.
2025-07-06 17:15:36 - INFO - uvicorn - Database engine created successfully
2025-07-06 17:15:36 - INFO - uvicorn.error - Started server process [7]
2025-07-06 17:15:36 - INFO - uvicorn.error - Waiting for application startup.
2025-07-06 17:15:36 - INFO - uvicorn - Starting app
2025-07-06 17:15:36 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-06 17:15:37 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-06 17:15:37 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-06 17:15:38 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-06 17:15:38 - INFO - uvicorn - Loading 1000 users completed
2025-07-06 17:15:38 - INFO - uvicorn.error - Application startup complete.
2025-07-06 17:15:38 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-06 17:15:50 - INFO - uvicorn - Successfully fetched 100/26026 users
2025-07-06 17:15:50 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-06 17:16:01 - INFO - uvicorn - Successfully fetched 100/26026 users
2025-07-06 17:16:01 - INFO - uvicorn - Successfully returned 100 users (page 2)
2025-07-06 17:16:02 - INFO - uvicorn - Successfully fetched 100/26026 users
2025-07-06 17:16:02 - INFO - uvicorn - Successfully returned 100 users (page 3)
2025-07-06 17:16:04 - INFO - uvicorn - Successfully fetched 100/26026 users
2025-07-06 17:16:04 - INFO - uvicorn - Successfully returned 100 users (page 4)
2025-07-06 17:16:06 - INFO - uvicorn - Successfully fetched 26/26026 users
2025-07-06 17:16:06 - INFO - uvicorn - Successfully returned 26 users (page 261)
2025-07-06 17:16:07 - INFO - uvicorn - Successfully fetched 100/26026 users
2025-07-06 17:16:07 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-06 17:16:19 - INFO - uvicorn - Random user profile request from 172.31.0.5
2025-07-06 17:16:19 - INFO - uvicorn - Successfully fetched random user ID: 10432
2025-07-06 17:16:19 - INFO - uvicorn - Successfully retrieved random user
2025-07-06 17:16:21 - INFO - uvicorn - Successfully fetched 100/26026 users
2025-07-06 17:16:21 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-06 17:16:33 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-06 17:16:33 - INFO - uvicorn - Successfully retrieved user ID: 1
2025-07-06 17:16:34 - INFO - uvicorn - Successfully fetched 100/26026 users
2025-07-06 17:16:34 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-06 17:16:36 - INFO - uvicorn - User profile request for ID: 1 from 172.31.0.5
2025-07-06 17:16:36 - INFO - uvicorn - Returning data from cache
2025-07-06 17:16:43 - INFO - uvicorn - Successfully fetched 100/26026 users
2025-07-06 17:16:43 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-06 17:17:08 - INFO - uvicorn - Successfully fetched 100/26026 users
2025-07-06 17:17:08 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 12:30:04 - INFO - uvicorn - Database engine created successfully
2025-07-07 12:30:05 - INFO - uvicorn.error - Started server process [7]
2025-07-07 12:30:05 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 12:30:05 - INFO - uvicorn - Starting app
2025-07-07 12:30:05 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 12:30:06 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 12:30:06 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 12:30:07 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 12:30:07 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 12:30:07 - INFO - uvicorn.error - Application startup complete.
2025-07-07 12:30:07 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 15:55:19 - INFO - uvicorn - Database engine created successfully
2025-07-07 16:01:33 - INFO - uvicorn - Database engine created successfully
2025-07-07 16:01:33 - INFO - uvicorn.error - Started server process [7]
2025-07-07 16:01:33 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 16:01:33 - INFO - uvicorn - Starting app
2025-07-07 16:01:33 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 16:01:34 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 16:01:34 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 16:01:36 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 16:01:36 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 16:01:36 - INFO - uvicorn.error - Application startup complete.
2025-07-07 16:01:36 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 16:15:08 - INFO - uvicorn - Database engine created successfully
2025-07-07 16:15:08 - INFO - uvicorn.error - Started server process [7]
2025-07-07 16:15:08 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 16:15:08 - INFO - uvicorn - Starting app
2025-07-07 16:15:08 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 16:15:09 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 16:15:09 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 16:15:10 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 16:15:10 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 16:15:10 - INFO - uvicorn.error - Application startup complete.
2025-07-07 16:15:10 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 16:22:27 - INFO - uvicorn - Database engine created successfully
2025-07-07 16:22:28 - INFO - uvicorn.error - Started server process [7]
2025-07-07 16:22:28 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 16:22:28 - INFO - uvicorn - Starting app
2025-07-07 16:22:28 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 16:22:29 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 16:22:29 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 16:22:31 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 16:22:31 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 16:22:31 - INFO - uvicorn.error - Application startup complete.
2025-07-07 16:22:31 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 16:23:00 - INFO - uvicorn - Successfully fetched 100/32026 users
2025-07-07 16:23:00 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 16:23:55 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 16:23:55 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 16:23:56 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 16:23:56 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 16:23:56 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 16:23:56 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 16:26:07 - INFO - uvicorn - Database engine created successfully
2025-07-07 16:26:07 - INFO - uvicorn.error - Started server process [7]
2025-07-07 16:26:07 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 16:26:07 - INFO - uvicorn - Starting app
2025-07-07 16:26:07 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 16:26:08 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 16:26:08 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 16:26:10 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 16:26:10 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 16:26:10 - INFO - uvicorn.error - Application startup complete.
2025-07-07 16:26:10 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 16:26:15 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 16:26:15 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 16:26:15 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 16:26:15 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 16:26:15 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 16:26:15 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 16:26:16 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/app/app/api/router.py", line 83, in load_user_random
    task = await load_users_task.delay()
TypeError: object AsyncResult can't be used in 'await' expression
2025-07-07 16:26:42 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 16:26:42 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 16:26:42 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 16:26:42 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 16:26:43 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 16:26:43 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 16:26:43 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/app/app/api/router.py", line 83, in load_user_random
    task = await load_users_task.delay()
TypeError: object AsyncResult can't be used in 'await' expression
2025-07-07 16:33:25 - INFO - uvicorn - Database engine created successfully
2025-07-07 16:33:26 - INFO - uvicorn.error - Started server process [7]
2025-07-07 16:33:26 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 16:33:26 - INFO - uvicorn - Starting app
2025-07-07 16:33:26 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 16:33:27 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 16:33:27 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 16:33:29 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 16:33:29 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 16:33:29 - INFO - uvicorn.error - Application startup complete.
2025-07-07 16:33:29 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 16:33:33 - INFO - uvicorn - Successfully fetched 100/34029 users
2025-07-07 16:33:33 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 16:33:34 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 16:33:34 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 16:33:34 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 16:33:34 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 16:33:34 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 16:33:34 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 16:33:34 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/app/app/api/router.py", line 83, in load_user_random
    task = load_users_task().delay()
  File "/opt/venv/lib/python3.10/site-packages/celery/local.py", line 182, in __call__
    return self._get_current_object()(*a, **kw)
  File "/opt/venv/lib/python3.10/site-packages/celery/app/task.py", line 411, in __call__
    return self.run(*args, **kwargs)
TypeError: load_users_task() takes 0 positional arguments but 1 was given
2025-07-07 16:34:39 - INFO - uvicorn - Database engine created successfully
2025-07-07 16:34:40 - INFO - uvicorn.error - Started server process [7]
2025-07-07 16:34:40 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 16:34:40 - INFO - uvicorn - Starting app
2025-07-07 16:34:40 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 16:34:41 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 16:34:41 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 16:34:42 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 16:34:42 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 16:34:42 - INFO - uvicorn.error - Application startup complete.
2025-07-07 16:34:42 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 16:34:47 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 16:34:47 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 16:34:47 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 16:34:47 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 16:34:47 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 16:34:47 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 16:34:47 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/app/app/api/router.py", line 83, in load_user_random
    task = load_users_task.delay()
  File "/opt/venv/lib/python3.10/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
  File "/opt/venv/lib/python3.10/site-packages/celery/app/task.py", line 559, in apply_async
    check_arguments(*(args or ()), **(kwargs or {}))
TypeError: load_users_task() takes 0 positional arguments but 1 was given
2025-07-07 16:35:23 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 16:35:23 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 16:35:23 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 16:35:23 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 16:35:23 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 16:35:23 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 16:35:23 - ERROR - uvicorn.error - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/opt/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/app/app/api/router.py", line 83, in load_user_random
    task = load_users_task.delay()
  File "/opt/venv/lib/python3.10/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
  File "/opt/venv/lib/python3.10/site-packages/celery/app/task.py", line 559, in apply_async
    check_arguments(*(args or ()), **(kwargs or {}))
TypeError: load_users_task() takes 0 positional arguments but 1 was given
2025-07-07 16:57:17 - INFO - uvicorn - Database engine created successfully
2025-07-07 16:57:17 - INFO - uvicorn.error - Started server process [7]
2025-07-07 16:57:17 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 16:57:17 - INFO - uvicorn - Starting app
2025-07-07 16:57:18 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 16:57:19 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 16:57:19 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 16:57:21 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 16:57:21 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 16:57:21 - INFO - uvicorn.error - Application startup complete.
2025-07-07 16:57:21 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 16:57:23 - INFO - uvicorn - Successfully fetched 100/36032 users
2025-07-07 16:57:23 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 16:57:24 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 16:57:24 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 16:57:25 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 16:57:25 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 16:57:25 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 16:57:25 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:02:49 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:02:49 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:02:49 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:02:49 - INFO - uvicorn - Starting app
2025-07-07 17:02:49 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 17:02:50 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 17:02:50 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 17:02:52 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 17:02:52 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 17:02:52 - INFO - uvicorn.error - Application startup complete.
2025-07-07 17:02:52 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 17:02:56 - INFO - uvicorn - Successfully fetched 100/37033 users
2025-07-07 17:02:56 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 17:02:57 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:02:57 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:02:58 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:02:58 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:02:58 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:02:58 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:03:43 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:03:43 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:03:43 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:03:43 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:03:43 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:03:43 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:03:58 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:03:58 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:03:58 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:03:58 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:03:58 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:03:58 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:12:32 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:12:32 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:12:32 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:12:32 - INFO - uvicorn - Starting app
2025-07-07 17:12:32 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 17:12:33 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 17:12:33 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 17:12:35 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 17:12:35 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 17:12:35 - INFO - uvicorn.error - Application startup complete.
2025-07-07 17:12:35 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 17:12:44 - INFO - uvicorn - Successfully fetched 100/38036 users
2025-07-07 17:12:44 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 17:12:46 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:12:46 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:12:46 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:12:46 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:12:46 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:12:46 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:13:00 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:13:00 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:13:01 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:13:01 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:13:01 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:13:01 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:15:56 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:15:56 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:15:56 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:15:56 - INFO - uvicorn - Starting app
2025-07-07 17:15:56 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 17:15:57 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 17:15:57 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 17:15:58 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 17:15:58 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 17:15:58 - INFO - uvicorn.error - Application startup complete.
2025-07-07 17:15:58 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 17:16:06 - INFO - uvicorn - Successfully fetched 100/39038 users
2025-07-07 17:16:06 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 17:16:07 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:16:07 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:16:08 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:16:08 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:16:08 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:16:08 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:20:00 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:20:00 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:20:00 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:20:00 - INFO - uvicorn - Starting app
2025-07-07 17:20:00 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 17:20:01 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 17:20:01 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 17:20:03 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 17:20:03 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 17:20:03 - INFO - uvicorn.error - Application startup complete.
2025-07-07 17:20:03 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 17:20:05 - INFO - uvicorn - Successfully fetched 100/40039 users
2025-07-07 17:20:05 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 17:20:07 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:20:07 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:20:07 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:20:07 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:20:07 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:20:07 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:25:25 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:25:26 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:25:26 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:25:26 - INFO - uvicorn - Starting app
2025-07-07 17:25:26 - ERROR - uvicorn.error - Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/app/app/main.py", line 21, in lifespan
    await listen_events()
  File "/app/app/core/subscriber.py", line 21, in listen_events
    if message["type"] == "message":
TypeError: 'NoneType' object is not subscriptable

2025-07-07 17:25:26 - ERROR - uvicorn.error - Application startup failed. Exiting.
2025-07-07 17:30:04 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:30:05 - INFO - uvicorn.error - Started server process [6]
2025-07-07 17:30:05 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:30:05 - INFO - uvicorn - Starting app
2025-07-07 17:30:38 - ERROR - uvicorn.error - Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/retry.py", line 71, in call_with_retry
    return await do()
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 586, in read_response
    response = await self._parser.read_response(
  File "/opt/venv/lib/python3.10/site-packages/redis/_parsers/resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
  File "/opt/venv/lib/python3.10/site-packages/redis/_parsers/resp2.py", line 90, in _read_response
    raw = await self._readline()
  File "/opt/venv/lib/python3.10/site-packages/redis/_parsers/base.py", line 285, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/app/app/main.py", line 21, in lifespan
    await listen_events()
  File "/app/app/core/subscriber.py", line 20, in listen_events
    message = await pubsub.get_message(ignore_subscribe_messages=True)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/client.py", line 1111, in get_message
    response = await self.parse_response(block=(timeout is None), timeout=timeout)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/client.py", line 984, in parse_response
    response = await self._execute(
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/client.py", line 964, in _execute
    return await conn.retry.call_with_retry(
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/retry.py", line 74, in call_with_retry
    await fail(error)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 310, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 111 connecting to redis_randomuser:6379. Connect call failed ('172.31.0.3', 6379).

2025-07-07 17:30:38 - ERROR - uvicorn.error - Application startup failed. Exiting.
2025-07-07 17:30:50 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:30:50 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:30:50 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:30:50 - INFO - uvicorn - Starting app
2025-07-07 17:31:04 - ERROR - uvicorn.error - Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/retry.py", line 71, in call_with_retry
    return await do()
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 586, in read_response
    response = await self._parser.read_response(
  File "/opt/venv/lib/python3.10/site-packages/redis/_parsers/resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
  File "/opt/venv/lib/python3.10/site-packages/redis/_parsers/resp2.py", line 90, in _read_response
    raw = await self._readline()
  File "/opt/venv/lib/python3.10/site-packages/redis/_parsers/base.py", line 285, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/app/app/main.py", line 21, in lifespan
    await listen_events()
  File "/app/app/core/subscriber.py", line 20, in listen_events
    message = await pubsub.get_message(ignore_subscribe_messages=True)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/client.py", line 1111, in get_message
    response = await self.parse_response(block=(timeout is None), timeout=timeout)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/client.py", line 984, in parse_response
    response = await self._execute(
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/client.py", line 964, in _execute
    return await conn.retry.call_with_retry(
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/retry.py", line 74, in call_with_retry
    await fail(error)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 310, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 111 connecting to redis_randomuser:6379. Connect call failed ('172.31.0.2', 6379).

2025-07-07 17:31:04 - ERROR - uvicorn.error - Application startup failed. Exiting.
2025-07-07 17:31:36 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:31:37 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:31:37 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:31:37 - INFO - uvicorn - Starting app
2025-07-07 17:31:37 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 17:31:38 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 17:31:38 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 17:31:39 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 17:31:39 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 17:32:11 - ERROR - uvicorn.error - Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/retry.py", line 71, in call_with_retry
    return await do()
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 586, in read_response
    response = await self._parser.read_response(
  File "/opt/venv/lib/python3.10/site-packages/redis/_parsers/resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
  File "/opt/venv/lib/python3.10/site-packages/redis/_parsers/resp2.py", line 90, in _read_response
    raw = await self._readline()
  File "/opt/venv/lib/python3.10/site-packages/redis/_parsers/base.py", line 285, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/app/app/main.py", line 26, in lifespan
    await listen_events()
  File "/app/app/core/subscriber.py", line 20, in listen_events
    message = await pubsub.get_message(ignore_subscribe_messages=True)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/client.py", line 1111, in get_message
    response = await self.parse_response(block=(timeout is None), timeout=timeout)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/client.py", line 984, in parse_response
    response = await self._execute(
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/client.py", line 964, in _execute
    return await conn.retry.call_with_retry(
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/retry.py", line 74, in call_with_retry
    await fail(error)
  File "/opt/venv/lib/python3.10/site-packages/redis/asyncio/connection.py", line 310, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 111 connecting to redis_randomuser:6379. Connect call failed ('172.31.0.3', 6379).

2025-07-07 17:32:11 - ERROR - uvicorn.error - Application startup failed. Exiting.
2025-07-07 17:32:27 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:32:27 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:32:27 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:32:27 - INFO - uvicorn - Starting app
2025-07-07 17:32:27 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 17:32:28 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 17:32:28 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 17:32:30 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 17:32:30 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 17:32:30 - INFO - uvicorn.error - Application startup complete.
2025-07-07 17:32:30 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 17:37:51 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:37:51 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:37:51 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:37:51 - INFO - uvicorn - Starting app
2025-07-07 17:37:51 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 17:37:52 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 17:37:52 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 17:37:54 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 17:37:54 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 17:37:54 - ERROR - uvicorn.error - Traceback (most recent call last):
  File "/opt/venv/lib/python3.10/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/opt/venv/lib/python3.10/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/local/lib/python3.10/contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
  File "/app/app/main.py", line 29, in lifespan
    listener_task = asyncio.create_task(listen_events(redis))
TypeError: listen_events() takes 0 positional arguments but 1 was given

2025-07-07 17:37:54 - ERROR - uvicorn.error - Application startup failed. Exiting.
2025-07-07 17:38:18 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:38:19 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:38:19 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:38:19 - INFO - uvicorn - Starting app
2025-07-07 17:38:19 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 17:38:20 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 17:38:20 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 17:38:22 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 17:38:22 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 17:38:22 - INFO - uvicorn - Redis listener started in background
2025-07-07 17:38:22 - INFO - uvicorn.error - Application startup complete.
2025-07-07 17:38:22 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 17:38:38 - INFO - uvicorn - Successfully fetched 100/44040 users
2025-07-07 17:38:38 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 17:38:39 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:38:39 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:38:40 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:38:40 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:38:40 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:38:40 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:39:45 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:39:45 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:39:45 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:39:45 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:39:45 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:39:45 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:43:23 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:43:24 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:43:24 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:43:24 - INFO - uvicorn - Starting app
2025-07-07 17:43:24 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 17:43:25 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 17:43:25 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 17:43:26 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 17:43:26 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 17:43:26 - INFO - uvicorn - Redis listener started in background
2025-07-07 17:43:26 - INFO - uvicorn.error - Application startup complete.
2025-07-07 17:43:26 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 17:43:36 - INFO - uvicorn - Successfully fetched 100/45042 users
2025-07-07 17:43:36 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 17:43:37 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:43:37 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:43:38 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:43:38 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:43:38 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:43:38 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:51:50 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:51:51 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:51:51 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:51:51 - INFO - uvicorn - Starting app
2025-07-07 17:51:51 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 17:51:52 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 17:51:52 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 17:51:53 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 17:51:53 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 17:51:53 - INFO - uvicorn - Redis listener started in background
2025-07-07 17:51:53 - INFO - uvicorn.error - Application startup complete.
2025-07-07 17:51:53 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 17:52:06 - INFO - uvicorn - Successfully fetched 100/46043 users
2025-07-07 17:52:06 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 17:52:08 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:52:08 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:52:08 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:52:08 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:52:08 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:52:08 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 17:54:52 - INFO - uvicorn - Database engine created successfully
2025-07-07 17:54:52 - INFO - uvicorn.error - Started server process [7]
2025-07-07 17:54:52 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 17:54:52 - INFO - uvicorn - Starting app
2025-07-07 17:54:52 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 17:54:57 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 17:54:57 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 17:54:58 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 17:54:58 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 17:54:58 - INFO - uvicorn - Redis listener started in background
2025-07-07 17:54:58 - INFO - uvicorn.error - Application startup complete.
2025-07-07 17:54:58 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 17:55:04 - INFO - uvicorn - Successfully fetched 100/47044 users
2025-07-07 17:55:04 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 17:55:05 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 17:55:05 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 17:55:06 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 17:55:06 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 17:55:06 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 17:55:06 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 18:05:06 - INFO - uvicorn - Database engine created successfully
2025-07-07 18:05:06 - INFO - uvicorn.error - Started server process [7]
2025-07-07 18:05:06 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 18:05:06 - INFO - uvicorn - Starting app
2025-07-07 18:05:06 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 18:05:07 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 18:05:07 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 18:05:09 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 18:05:09 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 18:05:09 - INFO - uvicorn - Redis listener started in background
2025-07-07 18:05:09 - INFO - uvicorn.error - Application startup complete.
2025-07-07 18:05:09 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 18:05:09 - INFO - uvicorn - Subscribed to Redis channel
2025-07-07 18:05:27 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 18:05:27 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 18:05:28 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 18:05:28 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 18:05:28 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 18:05:28 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 18:05:28 - ERROR - uvicorn - Unexpected error: _process_message() missing 1 required positional argument: 'message'
2025-07-07 18:05:33 - ERROR - uvicorn - Unexpected error: _process_message() missing 1 required positional argument: 'message'
2025-07-07 18:07:16 - ERROR - uvicorn - Unexpected error: Error 111 connecting to redis_randomuser:6379. Connect call failed ('172.31.0.3', 6379).
2025-07-07 18:07:17 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:07:18 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:07:19 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:07:20 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:07:21 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:07:22 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:07:23 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:07:24 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:07:25 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:07:39 - INFO - uvicorn - Database engine created successfully
2025-07-07 18:07:40 - INFO - uvicorn.error - Started server process [6]
2025-07-07 18:07:40 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 18:07:40 - INFO - uvicorn - Starting app
2025-07-07 18:07:40 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 18:07:41 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 18:07:41 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 18:07:42 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 18:07:42 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 18:07:42 - INFO - uvicorn - Redis listener started in background
2025-07-07 18:07:42 - INFO - uvicorn.error - Application startup complete.
2025-07-07 18:07:42 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 18:07:42 - INFO - uvicorn - Subscribed to Redis channel
2025-07-07 18:07:52 - INFO - uvicorn - Successfully fetched 100/49046 users
2025-07-07 18:07:52 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 18:07:53 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 18:07:53 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 18:07:53 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 18:07:53 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 18:07:53 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 18:07:53 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 18:07:53 - ERROR - uvicorn - Telegram error: 'str' object has no attribute 'decode'
2025-07-07 18:07:58 - ERROR - uvicorn - Telegram error: 'str' object has no attribute 'decode'
2025-07-07 18:08:25 - ERROR - uvicorn - Unexpected error: Error 111 connecting to redis_randomuser:6379. Connect call failed ('172.31.0.2', 6379).
2025-07-07 18:08:26 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:08:27 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:08:28 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:08:29 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:08:30 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:08:31 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:08:32 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:08:33 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:08:34 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:08:47 - INFO - uvicorn - Database engine created successfully
2025-07-07 18:08:47 - INFO - uvicorn.error - Started server process [7]
2025-07-07 18:08:47 - INFO - uvicorn.error - Waiting for application startup.
2025-07-07 18:08:47 - INFO - uvicorn - Starting app
2025-07-07 18:08:47 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-07 18:08:48 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-07 18:08:48 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-07 18:08:50 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-07 18:08:50 - INFO - uvicorn - Loading 1000 users completed
2025-07-07 18:08:50 - INFO - uvicorn - Redis listener started in background
2025-07-07 18:08:50 - INFO - uvicorn.error - Application startup complete.
2025-07-07 18:08:50 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-07 18:08:50 - INFO - uvicorn - Subscribed to Redis channel
2025-07-07 18:08:57 - INFO - uvicorn - Successfully fetched 100/50047 users
2025-07-07 18:08:57 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-07 18:08:59 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-07 18:08:59 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-07 18:08:59 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-07 18:08:59 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-07 18:08:59 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-07 18:08:59 - INFO - uvicorn - Successfully loaded 1 users
2025-07-07 18:08:59 - INFO - uvicorn - Message sent to Telegram: Load users start
2025-07-07 18:09:04 - INFO - uvicorn - Message sent to Telegram: Load users end
2025-07-07 18:09:26 - ERROR - uvicorn - Unexpected error: Error 111 connecting to redis_randomuser:6379. Connect call failed ('172.31.0.2', 6379).
2025-07-07 18:09:27 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:09:28 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:09:29 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:09:30 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:09:31 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:09:32 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:09:33 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-07 18:09:34 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-08 15:00:18 - INFO - uvicorn - Database engine created successfully
2025-07-08 15:00:19 - INFO - uvicorn.error - Started server process [7]
2025-07-08 15:00:19 - INFO - uvicorn.error - Waiting for application startup.
2025-07-08 15:00:19 - INFO - uvicorn - Starting app
2025-07-08 15:00:19 - INFO - uvicorn - Starting user loading process. Total: 1000, batch size: 5000
2025-07-08 15:00:20 - INFO - uvicorn - Successfully fetched 1000 users from API, page 1
2025-07-08 15:00:20 - INFO - uvicorn - Successfully fetched page 1: 1000 users
2025-07-08 15:00:22 - INFO - uvicorn - User loading completed. Total added: 1000
2025-07-08 15:00:22 - INFO - uvicorn - Loading 1000 users completed
2025-07-08 15:00:22 - INFO - uvicorn - Redis listener started in background
2025-07-08 15:00:22 - INFO - uvicorn.error - Application startup complete.
2025-07-08 15:00:22 - INFO - uvicorn.error - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-08 15:00:22 - INFO - uvicorn - Subscribed to Redis channel
2025-07-08 15:00:38 - INFO - uvicorn - Successfully fetched 100/51048 users
2025-07-08 15:00:38 - INFO - uvicorn - Successfully returned 100 users (page 1)
2025-07-08 15:00:40 - INFO - uvicorn - User load request from 172.31.0.6 for 1 users
2025-07-08 15:00:40 - INFO - uvicorn - Starting user loading process. Total: 1, batch size: 5000
2025-07-08 15:00:40 - INFO - uvicorn - Successfully fetched 1 users from API, page 1
2025-07-08 15:00:40 - INFO - uvicorn - Successfully fetched page 1: 1 users
2025-07-08 15:00:40 - INFO - uvicorn - User loading completed. Total added: 1
2025-07-08 15:00:40 - INFO - uvicorn - Successfully loaded 1 users
2025-07-08 15:00:40 - INFO - uvicorn - Message sent to Telegram: Load users start
2025-07-08 15:00:45 - INFO - uvicorn - Message sent to Telegram: Load users end
2025-07-08 15:04:30 - INFO - uvicorn - User load request from 172.31.0.6 for 13 users
2025-07-08 15:04:30 - INFO - uvicorn - Starting user loading process. Total: 13, batch size: 5000
2025-07-08 15:04:31 - INFO - uvicorn - Successfully fetched 13 users from API, page 1
2025-07-08 15:04:31 - INFO - uvicorn - Successfully fetched page 1: 13 users
2025-07-08 15:04:31 - INFO - uvicorn - User loading completed. Total added: 13
2025-07-08 15:04:31 - INFO - uvicorn - Successfully loaded 13 users
2025-07-08 15:04:31 - INFO - uvicorn - Message sent to Telegram: Load users start
2025-07-08 15:04:36 - INFO - uvicorn - Message sent to Telegram: Load users end
2025-07-08 15:12:47 - ERROR - uvicorn - Unexpected error: Error 111 connecting to redis_randomuser:6379. Connect call failed ('172.31.0.2', 6379).
2025-07-08 15:12:48 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-08 15:12:49 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-08 15:12:50 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-08 15:12:51 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-08 15:12:52 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-08 15:12:53 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-08 15:12:54 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
2025-07-08 15:12:55 - ERROR - uvicorn - Unexpected error: Error -3 connecting to redis_randomuser:6379. Temporary failure in name resolution.
